{"id": "mcp-001", "name": "mcp_list_tools", "description": "MCP client can list server tools", "category": "mcp", "given": {"mcp_server": "test_server", "server_tools": ["tool_a", "tool_b"]}, "when": {"action": "mcp_list_tools"}, "then": {"success": true, "tools_count": 2}}
{"id": "mcp-002", "name": "mcp_call_tool", "description": "MCP client can call server tool", "category": "mcp", "given": {"mcp_server": "test_server", "server_tools": [{"name": "echo", "description": "Echoes input"}]}, "when": {"action": "mcp_call_tool", "tool": "echo", "input": {"text": "hello"}}, "then": {"success": true, "result_contains": "hello"}}
{"id": "mcp-003", "name": "mcp_tool_error", "description": "MCP tool errors propagate correctly", "category": "mcp", "given": {"mcp_server": "test_server", "server_tools": [{"name": "fail", "description": "Always fails"}]}, "when": {"action": "mcp_call_tool", "tool": "fail", "input": {}}, "then": {"success": false, "is_error": true}}
{"id": "mcp-004", "name": "mcp_server_disconnect", "description": "Handles server disconnect gracefully", "category": "mcp", "given": {"mcp_server": "test_server"}, "when": {"action": "mcp_disconnect"}, "then": {"success": true, "server_stopped": true}}
{"id": "mcp-005", "name": "mcp_tools_in_agent", "description": "MCP tools usable by agent", "category": "mcp", "given": {"mcp_server": "test_server", "server_tools": [{"name": "mcp_tool", "description": "An MCP tool"}]}, "when": {"action": "run_agent", "prompt": "Use the MCP tool"}, "then": {"tool_called": "mcp_tool"}}
